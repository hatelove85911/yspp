<!DOCTYPE HTML>
<!--
	Tessellate by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>羽山工作室</title>
		<link rel="shortcut icon" href="/yspp.ico" type="image/x-icon">
		<link rel="icon" href="/yspp.ico" type="image/x-icon">		
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="vendor/jquery.fullpage.min.css" />
		<link rel="stylesheet" href="yspp.css" />

	</head>
	<body>
		<div id="fullpage">
			<div class="section">
				<canvas id="logocanvas"></canvas>
			</div>
			<div class="section">
				<div class="hackerprompt">
					<p class="typewriter" data-text="&gt; 我们知道什么最吸引你,看看我们的黑科技"> <span class="blink_caret"></span></p>
				</div>
				<div class="arrow">
                    <i class="down"></i>
                </div>					
			</div>
			<div class="section">
				<div class="yzmautoshowcase">
					<embed src='http://player.youku.com/player.php/sid/XMzU4NzQyNjQzNg==/v.swf' allowFullScreen='true' quality='high' width='480' height='400' align='middle' allowScriptAccess='always' type='application/x-shockwave-flash' isShowRelatedVideo='false' isAutoPlay='true'></embed>
				</div>
			</div>
			<div class="section">
				<div class="hackerprompt">
					<p class="typewriter" data-text="&gt; 屌不屌? 还行还行,验证码自动只是小菜一碟,继续往下看"> <span class="blink_caret"></span></p>
				</div>
				<div class="arrow">
                    <i class="down"></i>
                </div>					
			</div>	
			<div class="section">
				<section id="header" class="main">
					<header>
						<h1>普通vs我们</h1>
					</header>
				</section>	
			</div>
			<div class="section">
				<section id="header" class="main">
					<header>
						<h1>我们敢晒单</h1>
					</header>
				</section>	
			</div>		
		</div>
		<div class="contact_methods">
			<p class="trigger">联系方式</p>
			<table class="contact_methods_table">
				<tr>
					<th>手机号↓</th>
					<th>淘宝店↓</th>
				</tr>		
				<tr>
					<td><a href="tel:17621343858">17621343858</a></td>
					<td><a href="https://item.taobao.com/item.htm?spm=a230r.1.14.16.79796f4194uQ3o&id=540326893336&ns=1&abbucket=13#detail">去淘宝店</a></td>
				</tr>
				<tr>
					<th>公众号↓</th>
					<th>微信号↓</th>
				</tr>
				<tr>
					<td><img src="images/gzh_qr.jpg" width="100px" height="100px"></td>
					<td><img src="images/wxh_qr.png" width="100px" height="100px"></td>
				</tr>
			</table>
		</div>

		<!-- Scripts -->
		<script src="https://cdn.bootcss.com/jquery/1.11.3/jquery.min.js"></script>
		<script src="vendor/jquery.fullpage.min.js"></script>

		<script>
			$(document).ready(function() {
				function typewritereffect(el, wholetext) {
					var real = $(el).get(0).childNodes[0]
					var realtext = real.nodeValue || ""
					if (realtext.length < wholetext.length) {
						setTimeout(function() {
							real.nodeValue = wholetext.slice(0, real.length+1);
							typewritereffect(el, wholetext)
						}, 90)
					}
				}

				function isElementInViewport(elem) {
				    var $elem = $(elem);

				    // Get the scroll position of the page.
				    var scrollElem = ((navigator.userAgent.toLowerCase().indexOf('webkit') != -1) ? 'body' : 'html');
				    var viewportTop = $(scrollElem).scrollTop();
				    var viewportBottom = viewportTop + $(window).height();

				    // Get the position of the element on the page.
				    var elemTop = Math.round( $elem.offset().top );
				    var elemBottom = elemTop + $elem.height();

				    return ((elemTop < viewportBottom) && (elemBottom > viewportTop));
				}

				// Check if it's time to start the animation.
				function checkAnimation() {
				    var $typewriters = $('.typewriter');

				    $typewriters.each(function(_, el) {
					    if (isElementInViewport(el)) {
					        // Start the animation
					        var wholetext = $(el).attr("data-text")
					        typewritereffect(el, wholetext)
					    }
				    })

				}


				$('#fullpage').fullpage({
					afterLoad: checkAnimation
				});
			});
		</script>

		<!-- thunder text effect -->
		<script>
			function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

			var canvas = void 0,
			    ctx = void 0,
			    w = void 0,
			    h = void 0,
			    thunder = void 0,
			    text = void 0,
			    particles = void 0,
			    input = void 0;

			function Thunder(options) {
			    var _this = this;

			    options = options || {};
			    this.lifespan = options.lifespan || Math.round(Math.random() * 10 + 10);
			    this.maxlife = this.lifespan;
			    this.color = options.color || '#fefefe';
			    this.glow = options.glow || '#2323fe';
			    this.x = options.x || Math.random() * w;
			    this.y = options.y || Math.random() * h;
			    this.width = options.width || 2;
			    this.direct = options.direct || Math.random() * Math.PI * 2;
			    this.max = options.max || Math.round(Math.random() * 10 + 20);
			    this.segments = [].concat(_toConsumableArray(new Array(this.max))).map(function () {
			        return {
			            direct: _this.direct + (Math.PI * Math.random() * 0.2 - 0.1),
			            length: Math.random() * 20 + 80,
			            change: Math.random() * 0.04 - 0.02
			        };
			    });

			    this.update = function (index, array) {
			        this.segments.forEach(function (s) {
			            (s.direct += s.change) && Math.random() > 0.96 && (s.change *= -1);
			        });
			        this.lifespan > 0 && this.lifespan-- || this.remove(index, array);
			    };

			    this.render = function (ctx) {
			        if (this.lifespan <= 0) return;
			        ctx.beginPath();
			        ctx.globalAlpha = this.lifespan / this.maxlife;
			        ctx.strokeStyle = this.color;
			        ctx.lineWidth = this.width;
			        ctx.shadowBlur = 32;
			        ctx.shadowColor = this.glow;
			        ctx.moveTo(this.x, this.y);
			        var prev = { x: this.x, y: this.y };
			        this.segments.forEach(function (s) {
			            var x = prev.x + Math.cos(s.direct) * s.length;
			            var y = prev.y + Math.sin(s.direct) * s.length;
			            prev = { x: x, y: y };
			            ctx.lineTo(x, y);
			        });
			        ctx.stroke();
			        ctx.closePath();
			        ctx.shadowBlur = 0;
			        var strength = Math.random() * 80 + 40;
			        var light = ctx.createRadialGradient(this.x, this.y, 0, this.x, this.y, strength);
			        light.addColorStop(0, 'rgba(250, 200, 50, 0.6)');
			        light.addColorStop(0.1, 'rgba(250, 200, 50, 0.2)');
			        light.addColorStop(0.4, 'rgba(250, 200, 50, 0.06)');
			        light.addColorStop(0.65, 'rgba(250, 200, 50, 0.01)');
			        light.addColorStop(0.8, 'rgba(250, 200, 50, 0)');
			        ctx.beginPath();
			        ctx.fillStyle = light;
			        ctx.arc(this.x, this.y, strength, 0, Math.PI * 2);
			        ctx.fill();
			        ctx.closePath();
			    };

			    this.remove = function (index, array) {
			        array.splice(index, 1);
			    };
			}

			function Spark(options) {
			    options = options || {};
			    this.x = options.x || w * 0.5;
			    this.y = options.y || h * 0.5;
			    this.v = options.v || { direct: Math.random() * Math.PI * 2, weight: Math.random() * 14 + 2, friction: 0.88 };
			    this.a = options.a || { change: Math.random() * 0.4 - 0.2, min: this.v.direct - Math.PI * 0.4, max: this.v.direct + Math.PI * 0.4 };
			    this.g = options.g || { direct: Math.PI * 0.5 + (Math.random() * 0.4 - 0.2), weight: Math.random() * 0.25 + 0.25 };
			    this.width = options.width || Math.random() * 3;
			    this.lifespan = options.lifespan || Math.round(Math.random() * 20 + 40);
			    this.maxlife = this.lifespan;
			    this.color = options.color || '#feca32';
			    this.prev = { x: this.x, y: this.y };

			    this.update = function (index, array) {
			        this.prev = { x: this.x, y: this.y };
			        this.x += Math.cos(this.v.direct) * this.v.weight;
			        this.x += Math.cos(this.g.direct) * this.g.weight;
			        this.y += Math.sin(this.v.direct) * this.v.weight;
			        this.y += Math.sin(this.g.direct) * this.g.weight;
			        this.v.weight > 0.2 && (this.v.weight *= this.v.friction);
			        this.v.direct += this.a.change;
			        (this.v.direct > this.a.max || this.v.direct < this.a.min) && (this.a.change *= -1);
			        this.lifespan > 0 && this.lifespan--;
			        this.lifespan <= 0 && this.remove(index, array);
			    };

			    this.render = function (ctx) {
			        if (this.lifespan <= 0) return;
			        ctx.beginPath();
			        ctx.globalAlpha = this.lifespan / this.maxlife;
			        ctx.strokeStyle = this.color;
			        ctx.lineWidth = this.width;
			        ctx.moveTo(this.x, this.y);
			        ctx.lineTo(this.prev.x, this.prev.y);
			        ctx.stroke();
			        ctx.closePath();
			    };

			    this.remove = function (index, array) {
			        array.splice(index, 1);
			    };
			}

			function Particles(options) {
			    options = options || {};
			    this.max = options.max || Math.round(Math.random() * 10 + 10);
			    this.sparks = [].concat(_toConsumableArray(new Array(this.max))).map(function () {
			        return new Spark(options);
			    });

			    this.update = function () {
			        var _this2 = this;

			        this.sparks.forEach(function (s, i) {
			            return s.update(i, _this2.sparks);
			        });
			    };

			    this.render = function (ctx) {
			        this.sparks.forEach(function (s) {
			            return s.render(ctx);
			        });
			    };
			}

			function Text(options) {
			    options = options || {};
			    var pool = document.createElement('canvas');
			    var buffer = pool.getContext('2d');
			    pool.width = w;
			    buffer.fillStyle = '#000000';
			    buffer.fillRect(0, 0, pool.width, pool.height);

			    this.size = options.size || 100;
			    this.copy = (options.copy || 'Hello!') + ' ';
			    this.color = options.color || '#cd96fe';
			    this.delay = options.delay || 1;
			    this.basedelay = this.delay;
			    buffer.font = this.size + 'px Comic Sans MS';
			    this.bound = buffer.measureText(this.copy);
			    this.bound.height = this.size * 1.5;
			    this.x = options.x || w * 0.5 - this.bound.width * 0.5;
			    this.y = options.y || h * 0.5 - this.size * 0.5;

			    buffer.strokeStyle = this.color;
			    buffer.strokeText(this.copy, 0, this.bound.height * 0.8);
			    this.data = buffer.getImageData(0, 0, this.bound.width, this.bound.height);
			    this.index = 0;

			    this.update = function () {
			        if (this.index >= this.bound.width) {
			            this.index = 0;
			            return;
			        }
			        var data = this.data.data;
			        for (var i = this.index * 4; i < data.length; i += 4 * this.data.width) {
			            var bitmap = data[i] + data[i + 1] + data[i + 2] + data[i + 3];
			            if (bitmap > 255 && Math.random() > 0.96) {
			                var x = this.x + this.index;
			                var y = this.y + i / this.bound.width / 4;
			                thunder.push(new Thunder({
			                    x: x,
			                    y: y
			                }));
			                Math.random() > 0.5 && particles.push(new Particles({
			                    x: x,
			                    y: y
			                }));
			            }
			        }
			        if (this.delay-- < 0) {
			            this.index++;
			            this.delay += this.basedelay;
			        }
			    };

			    this.render = function (ctx) {
			        ctx.putImageData(this.data, this.x, this.y, 0, 0, this.index, this.bound.height);
			    };
			}

			function loop() {
			    update();
			    render();
			    requestAnimationFrame(loop);
			}

			function update() {
			    text.update();
			    thunder.forEach(function (l, i) {
			        return l.update(i, thunder);
			    });
			    particles.forEach(function (p) {
			        return p.update();
			    });
			}

			function render() {
			    ctx.globalCompositeOperation = 'source-over';
			    ctx.globalAlpha = 1;
			    ctx.fillStyle = '#000000';
			    ctx.fillRect(0, 0, w, h);
			    //
			    ctx.globalCompositeOperation = 'screen';
			    text.render(ctx);
			    thunder.forEach(function (l) {
			        return l.render(ctx);
			    });
			    particles.forEach(function (p) {
			        return p.render(ctx);
			    });
			}

			(function () {
			    //
			    canvas = document.getElementById('logocanvas');
			    ctx = canvas.getContext('2d');
			    w = window.innerWidth;
			    h = window.innerHeight;
			    canvas.width = w;
			    canvas.height = h;
			    thunder = [];
			    particles = [];
			    //
			    text = new Text({
			        copy: '羽山工作室'
			    });
			    canvas.addEventListener('click', function (e) {
			        var x = e.clientX;
			        var y = e.clientY;
			        thunder.push(new Thunder({
			            x: x,
			            y: y
			        }));
			        particles.push(new Particles({
			            x: x,
			            y: y
			        }));
			    });
			    loop();
			})();			

		</script>
	
		<!--mylivechat-->
		<script defer>
			function add_chatinline(){var hccid=85992495;var nt=document.createElement("script");nt.async=true;nt.src="https://www.mylivechat.com/chatinline.aspx?hccid="+hccid;var ct=document.getElementsByTagName("script")[0];ct.parentNode.insertBefore(nt,ct);}
			add_chatinline();
		</script>

		<!-- baidu tongji -->
		<script defer>
			var _hmt = _hmt || [];
			(function() {
			  var hm = document.createElement("script");
			  hm.src = "https://hm.baidu.com/hm.js?3365629f5d15f0233d97b24264f3df19";
			  var s = document.getElementsByTagName("script")[0]; 
			  s.parentNode.insertBefore(hm, s);
			})();
		</script>


	</body>
</html>
